# Analytics & History

Track sleep patterns and view historical data.

## Overview

DreamTime provides analytics and history features to help you:
- Review past sleep sessions
- Track patterns over time
- Identify trends
- Share data with sleep consultants

---

## History Tab

### Accessing History

1. Tap the **History** tab in the bottom navigation
2. Select a date range or specific day
3. View completed sleep sessions

### Session List

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“… Today - January 15              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸŒ™ Night Sleep                     â”‚
â”‚  7:00 PM â†’ 6:30 AM                  â”‚
â”‚  Duration: 11h 30m                  â”‚
â”‚  Wakes: 1                           â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚                                     â”‚
â”‚  ğŸ’¤ Nap 1                           â”‚
â”‚  8:45 AM â†’ 10:15 AM                 â”‚
â”‚  Duration: 1h 30m (1h 35m crib)     â”‚
â”‚  Location: Crib                     â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚                                     â”‚
â”‚  ğŸ’¤ Nap 2                           â”‚
â”‚  1:00 PM â†’ 2:30 PM                  â”‚
â”‚  Duration: 1h 30m (1h 35m crib)     â”‚
â”‚  Location: Crib                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Session Details

Tap any session to see details:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nap 1 Details                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Put Down:      8:40 AM             â”‚
â”‚  Fell Asleep:   8:50 AM             â”‚
â”‚  Woke Up:       10:15 AM            â”‚
â”‚  Out of Crib:   10:20 AM            â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚                                     â”‚
â”‚  Crib Time:     1h 40m              â”‚
â”‚  Sleep Time:    1h 25m              â”‚
â”‚  Qualified Rest: 1h 32m             â”‚
â”‚                                     â”‚
â”‚  Location:      Crib                â”‚
â”‚  Type:          NAP                 â”‚
â”‚                                     â”‚
â”‚  [Edit]                [Delete]     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Editing Sessions

1. Tap a session to open details
2. Tap **Edit**
3. Adjust any timestamp
4. Tap **Save**

### Deleting Sessions

1. Tap a session to open details
2. Tap **Delete**
3. Confirm deletion

**Warning:** Deleted sessions cannot be recovered.

---

## Daily Summary

### Metrics

Each day shows a summary:

| Metric | Description |
|--------|-------------|
| **Total Day Sleep** | Sum of all nap durations |
| **Total Qualified Rest** | Sleep + (crib time credit) |
| **Nap Count** | Number of completed naps |
| **Night Sleep** | Previous night's duration |
| **Total 24h Sleep** | Night + day combined |

### Day Sleep Progress

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Day Sleep Progress                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Total: 2h 45m / 3h 30m cap         â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘  78%         â”‚
â”‚                                     â”‚
â”‚  Remaining: 45m                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Weekly View

### Weekly Summary

Swipe or tap arrows to navigate weeks:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Week of Jan 8 - Jan 14 â†’         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Averages:                          â”‚
â”‚  â€¢ Day Sleep: 2h 50m                â”‚
â”‚  â€¢ Night Sleep: 11h 15m             â”‚
â”‚  â€¢ Total: 14h 05m                   â”‚
â”‚  â€¢ Naps/day: 2.0                    â”‚
â”‚  â€¢ Bedtime: 7:05 PM                 â”‚
â”‚  â€¢ Wake time: 6:38 AM               â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Weekly Chart

Visual representation of sleep by day:

```
Day Sleep by Day
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mon â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 2h 45m     â”‚
â”‚ Tue â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 3h 00m     â”‚
â”‚ Wed â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 2h 15m     â”‚
â”‚ Thu â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 2h 50m     â”‚
â”‚ Fri â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 3h 10m     â”‚
â”‚ Sat â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 2h 45m     â”‚
â”‚ Sun â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 3h 00m     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Analytics

### Sleep Trends

View trends over time:

| Metric | Trend |
|--------|-------|
| Average bedtime | Getting earlier/later |
| Average wake time | Consistency |
| Nap duration | Improving/declining |
| Night wakes | Frequency changes |

### Pattern Detection

DreamTime identifies patterns:

- **Best nap times**: When baby sleeps longest
- **Trouble spots**: Times that often fail
- **Sleep debt correlation**: How debt affects night sleep
- **Wake window effectiveness**: Optimal awake times

### Export Data

Export sleep data for:
- Sharing with sleep consultants
- Personal records
- Analysis in other tools

**API Export:**
```bash
curl -H "Authorization: Bearer TOKEN" \
  "https://dreamtime.example.com/api/children/{id}/sessions?startDate=2024-01-01&endDate=2024-01-31"
```

---

## Night Sleep Tracking

### Night Sessions

Night sleep sessions include:
- Bedtime (put down)
- Time to fall asleep
- Night wakes (with durations)
- Morning wake time
- Total night duration

### Night Wake Logging

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Night Wake                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Wake 1:                            â”‚
â”‚  Woke: 2:30 AM                      â”‚
â”‚  Back to sleep: 2:45 AM             â”‚
â”‚  Duration awake: 15m                â”‚
â”‚                                     â”‚
â”‚  [+ Log Another Wake]               â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Night Sleep Metrics

| Metric | Description |
|--------|-------------|
| **Total Duration** | Bedtime to morning wake |
| **Actual Sleep** | Total minus wake time |
| **Wake Count** | Number of night wakes |
| **Longest Stretch** | Longest continuous sleep |
| **Sleep Efficiency** | Actual sleep / total time |

---

## Filtering & Search

### Date Range Filter

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Filter Sessions                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  From: [2024-01-01]                 â”‚
â”‚  To:   [2024-01-31]                 â”‚
â”‚                                     â”‚
â”‚  [Apply]                            â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Type Filter

Filter by session type:
- All sessions
- Naps only
- Night sleep only
- Ad-hoc naps only

### Location Filter

Filter by location:
- Crib
- Car seat
- Stroller
- Other

---

## Sharing Analytics

### With Caregivers

All caregivers with access to a child can view:
- Complete history
- All analytics
- Daily/weekly summaries

### With Sleep Consultants

1. Export data via API
2. Share summary screenshots
3. Provide view-only access (Viewer role)

---

## Tips for Using Analytics

### Track Consistently

The more data you log, the better the analytics:
- Log every sleep session
- Include all 4 states (put down, asleep, woke, out)
- Don't skip ad-hoc naps

### Review Weekly

Set a weekly review habit:
- Check weekly averages
- Note any changes in patterns
- Adjust schedule if needed

### Look for Patterns

Ask questions like:
- Does baby sleep better after longer wake windows?
- Are certain days consistently worse?
- Is sleep improving over time?

### Use History for Debugging

When sleep goes wrong:
1. Check what happened the previous night
2. Look at nap timing and duration
3. Calculate wake windows from the data
4. Identify what was different

